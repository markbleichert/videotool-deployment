window.qa=function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=7)}([function(t,n){t.exports='<div class="qa-module__container">\n    <div id="qa-placeholder" class="qa-placeholder">\n        This the runtime container. This text should not be visible..\n    </div>\n    <div class="qa-nav">\n        <button class="qa-button prev"><i class="fas fa-arrow-left"></i></button>\n    </div>\n</div>'},function(t,n){t.exports="<div>\n    <strong>\n        {{#name}}\n            The template with name {{name}} is broken..\n        {{/name}}\n\n        {{#message}}\n            <p>{{message}}</p>\n        {{/if}}\n    </strong>\n    <p>\n        <em>Please check if data properties referenced in the template match the properties in the data config file.</em>\n    </p>\n</div>"},function(t,n){t.exports="<div>Template is missing..</div>"},function(t,n){t.exports='<div>\n    <article class="qa-template qa-template__question">\n        {{#content}}\n        <div class="content_section">\n            <section class="content_section__intro">\n                {{#info}}\n                    {{#content.title}}\n                        <h2 class="content_section__title rfs-heading-1">{{content.title}}</h2>\n                    {{/content.title}}\n                    {{#content.body}}\n                        <p class="rfs-text">{{content.body}}</p>\n                    {{/content.body}}\n                {{/info}}\n                {{^info}}\n                    <h2 class="content_section__title rfs-heading-1 rfs-util-align-center">{{content.title}}</h2>\n                    {{#content.body}}\n                        <p class="rfs-text rfs-util-align-center">{{content.body}}</p>\n                    {{/content.body}}\n                {{/info}}\n            </section>\n            <section class="content_section__columns">\n                <div class="content_section__columns__left">\n                    {{#image }}\n                        <img src="{{content.image.src}}" alt="{{content.image.alt}}"/>\n                    {{/image}}\n                    {{^image}}\n                        {{#video}}\n                            <iframe\n                                    frameborder="0"\n                                    allowfullscreen="1"\n                                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n                                    style="width: 100%; height: 300px"\n                                    src="{{content.video.url}}">\n                            </iframe>\n                        {{/video}}\n                    {{/image}}\n                </div>\n                {{#info}}\n                    <div class="content_section__columns__right">\n                        <blockquote class="content-media--description">\n                            <h2 class="rfs-heading-3">{{content.info.title}}</h2>\n                            <p class="rfs-text">{{content.info.body}}</p>\n                        </blockquote>\n                    </div>\n                {{/info}}\n            </section>\n        </div>\n        {{/content}}\n\n        <section class="content-section__question">\n            <h2 class="qa-template__heading rfs-heading-2">{{question}}</h2>\n\n            <section class="qa-template__options">\n                {{#options}}\n                <button class="qa-tile" data-option-id="{{id}}">\n                    {{#image }}\n                    <div class="qa-tile__image">\n                        <img src="{{src}}" alt="{{alt}}">\n                    </div>\n                    {{/image}}\n                    <span class="qa-tile__heading">{{text}}</span>\n                </button>\n                {{/options}}\n            </section>\n        </section>\n    </article>\n</div>'},function(t,n){t.exports='<article class="qa-template qa-template--endpoint">\n    {{#content}}\n    <div class="content_section">\n        <section class="content_section__intro">\n            {{#info}}\n                <h2 class="content_section__title rfs-heading-1">{{content.title}}</h2>\n                {{#content.body}}\n                    <p class="rfs-text">{{content.body}}</p>\n                {{/content.body}}\n            {{/info}}\n            {{^info}}\n                <h2 class="content_section__title rfs-heading-1 rfs-util-align-center">{{content.title}}</h2>\n                {{#content.body}}\n                    <p class="rfs-text rfs-util-align-center">{{content.body}}</p>\n                {{/content.body}}\n            {{/info}}\n        </section>\n        <section class="content_section__columns">\n            <div class="content_section__columns__left">\n                {{#image }}\n                    <img src="{{content.image.src}}" alt="{{content.image.alt}}"/>\n                {{/image}}\n                {{^image}}\n                    {{#video}}\n                        <iframe\n                                frameborder="0"\n                                allowfullscreen="1"\n                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n                                style="width: 100%; height: 300px"\n                                src="{{content.video.url}}">\n                        </iframe>\n                    {{/video}}\n                {{/image}}\n            </div>\n            {{#info}}\n                <div class="content_section__columns__right">\n                    <blockquote class="content-media--description">\n                        <h2 class="rfs-heading-3">{{content.info.title}}</h2>\n                        <p class="rfs-text">{{content.info.body}}</p>\n                    </blockquote>\n                </div>\n            {{/info}}\n        </section>\n    </div>\n    <div class="qa-template__footer">\n        {{#link }}\n        <form action="{{content.link.url}}">\n            <button class="rfs-button-primary qa-button">{{content.link.text}}</button>\n        </form>\n        {{/link}}\n    </div>\n    {{/content}}\n</article>'},function(t,n){Element.prototype.closest||(Element.prototype.closest=function(t){for(var n=document.querySelectorAll(t),e=n.length-1;e>=0&&!n.item(e).contains(this);)e-=1;return n.item(e)&&n.item(e).contains(this)?n.item(e):null})},function(t,n,e){},function(t,n,e){"use strict";e.r(n);e(5),e(6);function o(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.root={},this.root=n.root,this.nodes=n.nodes,this.connectors=n.connectors,this.history=[],this._events={start:[],end:[],previous:[],next:[]}}var n,e,i;return n=t,(e=[{key:"init",value:function(){this.setStartNode(this.getRootNode()),this._trigger("start")}},{key:"_trigger",value:function(t){var n=this;this._events[t]&&this._events[t].forEach(function(t){t(n.currentNode,n.history)})}},{key:"on",value:function(t,n){this._events[t]&&n&&this._events[t].push(n)}},{key:"setStartNode",value:function(t){this.setCurrentNode(t)}},{key:"setCurrentNode",value:function(t){this.currentNode=t}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"hasPrevious",value:function(){return this.history.length>0}},{key:"getPrevious",value:function(){var t=this.history.pop();return this.setOptionSelected(t),this.setCurrentNode(t),this._trigger("previous"),t}},{key:"getNext",value:function(t){var n=this.getNextNode(t);if(n){var e=this.getCurrentNode();this.setOptionSelected(e,t),this.history.push(e),this.setCurrentNode(n),this._trigger("next"),"endpoint"===n.type&&this._trigger("end")}return n}},{key:"setOptionSelected",value:function(t,n){t.options.forEach(function(t){t.selected=t.id===n})}},{key:"getConnectorOut",value:function(t,n){for(var e,o=0;o<this.connectors.length;o++){var i=this.connectors[o];if(i.source.id===t&&i.source.port===n){e=i;break}}return e}},{key:"getNodeById",value:function(t){for(var n,e=0;e<this.nodes.length;e++){var o=this.nodes[e];if(o.id===t){n=o;break}}return n}},{key:"getNextNode",value:function(t){var n=this.getCurrentNode(),e=this.getConnectorOut(n.id,t);return e?this.getNodeById(e.target.id):null}},{key:"getRootNode",value:function(){return this.getNodeById(this.root)}}])&&o(n.prototype,e),i&&o(n,i),t}();function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,n,e,o){var i,c=s,a="";function l(t,n){return t=t[(n=n.pop?n:n.split(".")).shift()]||"",0 in n?l(t,n):t}n=Array.isArray(n)?n:n?[n]:[],n=o?0 in n?[]:[1]:n;var u=function(){var o="",s=0,u=void 0,f="object"===r(n[i])?n[i]:{};(f=Object.assign({},e,f))[""]={"":n[i]},t.replace(/([\s\S]*?)({{((\/)|(\^)|#)(.*?)}}|$)/g,function(t,n,e,i,d,p,h){s?o+=s&&!d||s>1?t:n:(a+=n.replace(/{{{(.*?)}}}|{{(!?)(&?)(>?)(.*?)}}/g,function(t,n,e,o,i,r){return n?l(f,n):o?l(f,r):i?c(l(f,r),f):e?"":new Option(l(f,r)).innerHTML}),u=p),d?--s||(h=l(f,h),/^f/.test(r(h))?a+=h.call(f,o,function(t){return c(t,f)}):a+=c(o,h,f,u),o=""):++s})};for(i=0;i<n.length;i++)u();return a}var c=e(0),a=e.n(c),l=e(1),u=e.n(l),f=e(2),d=e.n(f),p=e(3),h=e.n(p),v=e(4),m=e.n(v),y={"tmpl-broken":u.a,"tmpl-missing":d.a,"tmpl-container":a.a,QA_TILES:h.a,EP_CONTENT:m.a};function g(t){var n=document.createElement("div"),e=document.createRange();return e.setStart(n,0),n.appendChild(e.createContextualFragment(t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/"))),n.firstChild}function b(t,n){try{var e=y[t]||y["tmpl-missing"];return n?s(e,n):e}catch(n){throw new Error("Template ".concat(t," can not be compiled."))}}var _={effect:"fadeout",speed:400};function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function x(t,n){return!n||"object"!==k(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,n){return(q=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var O=function(t){function n(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.containerId,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=x(this,C(n).call(this,t))).options=i,e.config=Object.assign(_,t),e.setContainer(o),e.on("previous",function(t,n){"function"==typeof e.options.onChange&&e.options.onChange(t.id,n)}),e.on("next",function(t,n){"function"==typeof e.options.onChange&&e.options.onChange(t.id,n)}),e.on("end",function(t,n){"function"==typeof e.options.onComplete&&e.options.onComplete(t.id,n)}),e}var e,o,r;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&q(t,n)}(n,i),e=n,(o=[{key:"start",value:function(){this.init(),this.reset(!0),this.renderComponent(this.getCurrentNode())}},{key:"moveNext",value:function(t){var n=this.getNext(t);n&&this.renderComponent(n)}},{key:"movePrevious",value:function(){this.renderComponent(this.getPrevious())}},{key:"transition",value:function(t,n){var e=this.config,o=e.effect,i=e.speed;t.classList.add(o),setTimeout(function(){t.classList.remove(o),n()},i)}},{key:"renderComponent",value:function(t){var n,e,o=this;try{e=t.template,n=g(b(e,t))}catch(t){console.warn(t.message),n=function(t,n){return g(b("tmpl-broken",{name:t,message:n}))}(null,t)}this.transition(this.viewport,function(){o.reset(!0),o.viewport.appendChild(n),o.toggleBackButton()})}},{key:"reset",value:function(t){t&&(this.viewport.textContent="")}},{key:"toggleBackButton",value:function(){this.hasPrevious()?this.backbutton.classList.add("show"):this.backbutton.classList.remove("show")}},{key:"onOptionClick",value:function(t){var n=t.target.closest("[data-option-id]");if(n){var e=n.getAttribute("data-option-id");e&&this.moveNext(e)}}},{key:"setContainer",value:function(t){var n=b("tmpl-container"),e=document.getElementById(t);e.innerHTML=n,this.viewport=e.querySelector("#qa-placeholder"),this.backbutton=e.querySelector(".prev"),this.template=e.querySelector(".qa-placeholder"),this.backbutton.addEventListener("click",this.movePrevious.bind(this)),this.viewport.addEventListener("click",this.onOptionClick.bind(this))}}])&&w(e.prototype,o),r&&w(e,r),n}();function N(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n&&(t.containerId=n),!["containerId","root","nodes"].every(function(n){return n in t}))throw new Error("data: required field(s) missing..");new O(t,n,e).start()}e.d(n,"start",function(){return N})}]);
//# sourceMappingURL=qa-renderer.min.js.map